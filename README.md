# Конвертер TOML в учебный конфигурационный язык

## Описание

Данный инструмент предназначен для преобразования текстов на языке TOML в формат учебного конфигурационного языка. Конвертер поддерживает:
- Объявление констант.
- Массивы (включая вложенные).
- Константные выражения с поддержкой базовых операций и функций (`+`, `mod`, `len()`).
- Проверку корректности синтаксиса входного файла.

Программа считывает данные из входного файла, указанного в аргументах командной строки, и выводит результат в стандартный вывод.

---

## Синтаксис входного языка TOML

1. **Объявление константы:**
   ```toml
   const1 = 10
   const2 = ^{const1 + 5}
   ```

2. **Объявление массивов:**
   ```toml
   array1 = [1, 2, 3]
   nested_array = [4, 5, [6, 7, 8]]
   ```

3. **Поддержка функций:**
   - `mod`: Остаток от деления.
   - `len`: Длина массива.
   ```toml
   array1 = [10, 20, 30]
   length = ^{len(array1)}
   modulo = ^{10 mod 3}
   ```

---

## Выходной формат

Пример входного файла (TOML):
```toml
const1 = 10
const2 = ^{const1 + 5}
array1 = [4, 5, 6]
nested_array = [4, 2, [5, 6, 7]]
length = ^{len(array1)}
```

Выходной файл:
```plaintext
const1 = 10;
const2 = 15;
array1 = #(4, 5, 6);
nested_array = #(4, 2, #(5, 6, 7));
length = 3;
```

---

## Установка и использование

1. **Клонирование репозитория**
   ```bash
   git clone https://github.com/your-repo/toml-to-config-lang.git
   cd toml-to-config-lang
   ```

2. **Запуск программы**
   ```bash
   python hw3_toml.py input.txt
   ```
   где `input.txt` — путь к файлу с текстом TOML.

3. **Вывод**
   Результат преобразования выводится в консоль.

---

## Обработка ошибок

Программа проверяет:
1. Корректность имени переменных. Имена должны соответствовать регулярному выражению: `[a-zA-Z][_a-zA-Z0-9]*`.
2. Корректность значений:
   - Массивы должны быть записаны в квадратных скобках.
   - Константные выражения должны быть в формате `^{...}`.
   - Все числа должны быть целыми.
3. Синтаксические ошибки в входном файле.

Пример ошибки:
```plaintext
Ошибка: Некорректное значение: ^{const1 + }
```

---

## Тестирование

Тесты для программы находятся в файле `test.py` и написаны с использованием `unittest`.

1. Запуск тестов:
   ```bash
   python -m unittest test.py
   ```

2. Примеры тестируемых случаев:
   - Простые константы.
   - Простые и вложенные массивы.
   - Функции `mod` и `len`.
   - Обработка ошибок синтаксиса и некорректных имён.

---

## Требования

- Python 3.7 и выше.

---

## Лицензия

Этот проект распространяется под лицензией MIT.
